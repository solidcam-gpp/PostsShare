O9(TM)
$1
(<MACHINEID>L45</MACHINEID>)


M9
G50Z13.9
M6
G4U0.5
/M52
G18G97G40G113
M89M94M96M124
G0G99X#814+1.0Z-1.0
M51(PART OFF PROBE)

G610

G0Z-1.0


(SPOT DRILL)
M3S1=4000
G0Z-1.0
T2100
G0Z-1.0T21
G1G9Z2.5F0.08
G0Z-1.0T0

(DRILL)
M3S1=5000
G0Z-1.0
T2200
G0Z-1.0T22
G1Z2.0F0.2
G1Z4.0F0.05
G0Z-1.0T0

G630
(MAINSPINDLE ENDWORK)
(GANG TOOLS)
(T1-5 & 6-14)

( * START HERE * )

(FACE & TURN)
M3S1=6000
T300
G0X#814+1.0Z-1.0T3
G1X2.0F0.0
G0Z-1.0
G1G41X3.5Z0.0F0.07
X6.7,C0.3
Z2.2
X8.6.C0.2
Z4.1
X#814
G0G40X#814+1.0T0



(Y AXIS HEXAGON/SQUARE)

#110=0
#111=6(NUMBER OF FLATS)
#112=5.0(CUTTER DIAMETER)
#113=6.5(WIDTH ACROSS FLATS)
#115=8.6(PRE TURNED DIAMETER)
#116=-0.35(TOOL CENTRELINE IN Z)
#117=0(FINISH ALLOWANCE-ENTER 0 FOR NO ROUGHING)
#118=1000(ROUGHING FEED)
#119=4000(FINISHING FEED)

(Y AXIS CALCULATE)
#120=[SQRT[[#115*#115]-[#113*#113]]]+#112+0.5

M5G98
M80S3=6000
T700E0
G50W-15.0
G0X#814+1.0Z#116Y#120T7
IF[#117EQ0]GOTO125
WHILE[#110LT#111]DO1
G0X[#113+[2*#117]]
G1Y-[#120-#112]-0.5F#118
G0X#814+1.0
Y#120H[360./#111]
#110=[#110+1.0]
END1
#110=0
N125
WHILE[#110LT#111]DO2
G0X#113
G1Y-[#120-#112]-0.5F#119
G0X#814+1.0
Y#120H[360./#111]
#110=[#110+1.0]
END2
G0X#814+1.0T00

(Y AXIS HEXAGON/SQUARE)

#110=0
#111=6(NUMBER OF FLATS)
#112=5.0(CUTTER DIAMETER)
#113=6.0(WIDTH ACROSS FLATS)
#115=8.6(PRE TURNED DIAMETER)
#116=-0.30(TOOL CENTRELINE IN Z)
#117=0(FINISH ALLOWANCE-ENTER 0 FOR NO ROUGHING)
#118=1000(ROUGHING FEED)
#119=4000(FINISHING FEED)

(Y AXIS CALCULATE)
#120=[SQRT[[#115*#115]-[#113*#113]]]+#112+0.5

M5G98
M80S3=6000
T700E0
G50W-15.0
G0X#814+1.0Z#116Y#120T7
IF[#117EQ0]GOTO125
WHILE[#110LT#111]DO1
G0X[#113+[2*#117]]
G1Y-[#120-#112]-0.5F#118
G0X#814+1.0
Y#120H[360./#111]
#110=[#110+1.0]
END1
#110=0
N125
WHILE[#110LT#111]DO2
G0X#113
G1Y-[#120-#112]-0.5F#119
G0X#814+1.0
Y#120H[360./#111]
#110=[#110+1.0]
END2
G0X#814+1.0T00



(POSITION PART OFF)
M3S1=#817
T100
G0X#814+1.0Z3.2+16.+0.T1

G0X#814+1.0


G650

G114.1H1D-2(R0)

!L10





(CHAMFER DURING PART OFF)
( * START HERE IF REQ * )


(45 DEG CHAMFER WITH PART OFF)
#110=8.6(PRE TURNED DIAMETER)
#111=0.2(CHAMFER SIZE)

G1G99X#110-[2*#111]-0.5F#822
G0X#110+1.0
W-[#111+0.5]
G1X#110-[2*#111]W[#111+0.5]F#822




( * END HERE * )

(PART OFF)
G1G99X#824F#822


G113

(CHECK TOOL)
M3S1=300M25
G4U1.5
M50

G600

(BAR CHANGE)
M8
/M98P666666
M9

(RETURN TO ST.POS)
M5M25
M7
G4U0.75
G0X#824Z13.9T0
M6

(COUNT)
M56

(LAST PART)
G999
G630
N999

M2
M99

$2
G610
G630

(SUBSPINDLE ENDWORK)
(T31-38)
M98H1

(EJECT)
M98H2


G650

M24S2=2000
M16


G0Z-1.0

M77
(PICK OFF LENGTH)
G98G1Z2.0F4000
G4U0.1
M15

!L10


G600
G999
G630

M98H1

M98H2(EJECT)

N999
M25
M2
M99

N1
(SUBSPINDLE ENDWORK)
(T31-38)

G99
( * START HERE * )



(SPOT DRILL)
G44G99
M23S2=5000
(M88)
T3600Q3
G0Z-1.0T36
G1Z1.7F0.2
G1G9Z2.5F0.07
G0Z-1.0T0
M89

(THREADMILL ON C/L)

#110=*(THREAD DIAMETER)
#111=*(INTERNAL CLEARANCE DIAMETER)
#112=*(THREADING DEPTH)
#113=*(THREAD PITCH)
#114=*(DIAMETER OF TOOL)
#115=*(THREAD ENGAGE FEED)
#116=*(C AXIS THREADING FEED)

M25G98
M180S5=*
T3*00Q3
G50U-#114
(M88)
M48C*
G0Z-1.0T*
G68
G0X[#111-0.5]
Z[#112+[#113/4]]F1000.0
G1X#110W-[#113/4]H90.0F#115
W-#113H360.0F#116
X[#111-0.5]W-[#113/4]H90.0
G0Z-1.0
G50U#114
G69
G0U0Z-1.0T0
M79M182G99
M89


( * END HERE * )
M99

N2



(QUICK EJECT - NON MACRO)
M23S2=50
G4U0.3
M25
M33
M88
M72
G53Z35.0
M16
M10
G4U0.2
G53Z0
M11
T3000
M73
M31
M89




$0
A2-LE-2-20-12-C-M
#814=0000009520
#815=0000001000
#816=0000001000
#817=0002000000
#822=0000000060
#824=-000001000
#818=0000018200
#819=0000001000
#918=0000000000
#821=0000002400
#921=0000000000
#919=0000001000
#922=0000000000
#990=0004005000
#25975=0004058000
#25976=0004058000
#991=0000055000
#992=0000067000
#893=0000000000
#25977=0000000000
#25978=0000000000
#25979=0000000000
#25980=0000000000




%